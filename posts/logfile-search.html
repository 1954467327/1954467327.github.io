<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Linux日志排查命令 | 未之离忧</title><meta name="description" content="由于日志内容的复查情况以及某些模块存在日志量巨大，需要实时复现才好查看日志">
    <link rel="preload" href="/assets/style-iEG9IkOu.css" as="style"><link rel="stylesheet" href="/assets/style-iEG9IkOu.css">
    <link rel="modulepreload" href="/assets/app-CGuPWS34.js"><link rel="modulepreload" href="/assets/logfile-search.html-eky0fvIW.js">
    <link rel="prefetch" href="/assets/index.html-DB9qaPR9.js" as="script"><link rel="prefetch" href="/assets/get-started.html-D1y8csWU.js" as="script"><link rel="prefetch" href="/assets/article-error-code.html-DpBEONuW.js" as="script"><link rel="prefetch" href="/assets/deadlock-analysis.html-Ck5iOHDT.js" as="script"><link rel="prefetch" href="/assets/go-inherit.html-CB8UcYuJ.js" as="script"><link rel="prefetch" href="/assets/go-package-deploy.html-VwJlE3_H.js" as="script"><link rel="prefetch" href="/assets/go-packaging.html-Bx6LtcsS.js" as="script"><link rel="prefetch" href="/assets/go-polymorphic.html-rXVVaZc2.js" as="script"><link rel="prefetch" href="/assets/linux-mutual-trust.html-CoS6v-IG.js" as="script"><link rel="prefetch" href="/assets/mobile-h5.html-KwijRDbU.js" as="script"><link rel="prefetch" href="/assets/postgres-slow-sql.html-DTKVK-fN.js" as="script"><link rel="prefetch" href="/assets/404.html-DKheqxbu.js" as="script"><link rel="prefetch" href="/assets/index.html-T6TQB7Q2.js" as="script"><link rel="prefetch" href="/assets/index.html-5D6piCjt.js" as="script"><link rel="prefetch" href="/assets/index.html-DUNLBu5e.js" as="script"><link rel="prefetch" href="/assets/index.html-DtqdYpdL.js" as="script"><link rel="prefetch" href="/assets/index.html-DJjeGeF_.js" as="script"><link rel="prefetch" href="/assets/index.html-DnyQSvLF.js" as="script"><link rel="prefetch" href="/assets/index.html-CBDWcuNF.js" as="script"><link rel="prefetch" href="/assets/index.html-CHiSM7HX.js" as="script"><link rel="prefetch" href="/assets/index.html-CnVf4cTO.js" as="script"><link rel="prefetch" href="/assets/index.html-BszHIUGS.js" as="script"><link rel="prefetch" href="/assets/index.html-q6wG8g4W.js" as="script"><link rel="prefetch" href="/assets/index.html-LY6jY373.js" as="script"><link rel="prefetch" href="/assets/index.html-DeHj9F8O.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ1lZ4Oh.js" as="script"><link rel="prefetch" href="/assets/index.html-B76u0AbO.js" as="script"><link rel="prefetch" href="/assets/index.html-BDsrscMm.js" as="script"><link rel="prefetch" href="/assets/index.html-ye8WNNEd.js" as="script"><link rel="prefetch" href="/assets/index.html-DuHTFGj7.js" as="script"><link rel="prefetch" href="/assets/index.html-X9Dymp8G.js" as="script"><link rel="prefetch" href="/assets/index.html-DWYMAEBB.js" as="script"><link rel="prefetch" href="/assets/index.html-cRhoFPdc.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/logo.png" alt="未之离忧"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">未之离忧</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/article/" aria-label="文章"><!--[--><!--[--><!--]--><!--]-->文章<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/category/" aria-label="分类"><!--[--><!--[--><!--]--><!--]-->分类<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/tag/" aria-label="标签"><!--[--><!--[--><!--]--><!--]-->标签<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/timeline/" aria-label="时间线"><!--[--><!--[--><!--]--><!--]-->时间线<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/article/" aria-label="文章"><!--[--><!--[--><!--]--><!--]-->文章<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/category/" aria-label="分类"><!--[--><!--[--><!--]--><!--]-->分类<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/tag/" aria-label="标签"><!--[--><!--[--><!--]--><!--]-->标签<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/timeline/" aria-label="时间线"><!--[--><!--[--><!--]--><!--]-->时间线<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Linux日志排查命令 <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="linux日志排查命令" tabindex="-1"><a class="header-anchor" href="#linux日志排查命令"><span>Linux日志排查命令</span></a></h1><p>由于日志内容的复查情况以及某些模块存在日志量巨大，需要实时复现才好查看日志，可以通过此文章命令排查</p><h2 id="一、tail" tabindex="-1"><a class="header-anchor" href="#一、tail"><span>一、tail</span></a></h2><h3 id="_1-服务启动日志监控" tabindex="-1"><a class="header-anchor" href="#_1-服务启动日志监控"><span>1. 服务启动日志监控</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># -f (follow)：实时追加显示文件尾部内容 -n 末尾多少行</span></span>
<span class="line"><span class="token function">tail</span> <span class="token parameter variable">-f</span> logs/application.log</span>
<span class="line"><span class="token comment"># 合并命令</span></span>
<span class="line"><span class="token function">tail</span> <span class="token parameter variable">-200f</span> logs/application.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、less" tabindex="-1"><a class="header-anchor" href="#二、less"><span>二、less</span></a></h2><h3 id="_1-按需加载查看" tabindex="-1"><a class="header-anchor" href="#_1-按需加载查看"><span>1.按需加载查看</span></a></h3><p>如果需要查看之前的日志，推荐使用 less。不同于 vim 会一次性加载整个文件占用大量内存，less 是按需加载，打开几个 G 的文件也极其流畅，且支持向后回溯，以下命令vi进入编辑器也支持。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">less</span> logs/application.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入界面后的操作流：</p><ol><li>Shift + G 先跳到日志最末尾（因为报错通常发生在最近）。</li><li>?ORD12345678 输入问号+订单号，向上反向搜索。</li><li>n：如果当前这行不是关键信息，按 n 继续向上找上一次出现的位置</li><li>Shift + n 查看下一行</li><li>Shift + F 如果看着看着，日志又更新了，按这个组合键可以让 less 进入类似 tail -f 的实时滚动模式；按 Ctrl + C 退回浏览模式。</li><li>q 退出</li></ol><h2 id="三、grep" tabindex="-1"><a class="header-anchor" href="#三、grep"><span>三、grep</span></a></h2><h3 id="_1-查找指定关键字的前后20行" tabindex="-1"><a class="header-anchor" href="#_1-查找指定关键字的前后20行"><span>1. 查找指定关键字的前后20行</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 搜索异常关键字，并显示该行 &quot;前后各 20 行&quot;</span></span>
<span class="line"><span class="token function">grep</span> <span class="token parameter variable">-C</span> <span class="token number">20</span> <span class="token string">&quot;Exception&quot;</span> application.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-全链路追踪-traceid" tabindex="-1"><a class="header-anchor" href="#_2-全链路追踪-traceid"><span>2. 全链路追踪 TraceId</span></a></h3><p>微服务我们通常会通过 TraceId 串联请求。日志文件可能发生了滚动（Rolling），变成了 app.log、app.log.1、app.log.2。</p><p>我们需要在所有日志文件中搜索同一个 TraceId。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 搜索当前目录下所有以 app.log 开头的文件</span></span>
<span class="line"><span class="token function">grep</span> <span class="token string">&quot;TraceId-20251219001&quot;</span> logs/app.log*</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-统计异常频次" tabindex="-1"><a class="header-anchor" href="#_3-统计异常频次"><span>3. 统计异常频次</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># -c (count)：只统计匹配的行数</span></span>
<span class="line"><span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;RedisConnectionException&quot;</span> logs/application.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-排除干扰噪音" tabindex="-1"><a class="header-anchor" href="#_4-排除干扰噪音"><span>4. 排除干扰噪音</span></a></h3><p>排查问题时，日志里充斥着大量无关的 INFO 心跳日志或健康检查日志，严重干扰视线。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># -v (invert)：显示不包含 &quot;HealthCheck&quot; 的所有行</span></span>
<span class="line"><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">&quot;HealthCheck&quot;</span> logs/application.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、sed" tabindex="-1"><a class="header-anchor" href="#四、sed"><span>四、sed</span></a></h2><h3 id="_1-导出事故时间窗口的日志" tabindex="-1"><a class="header-anchor" href="#_1-导出事故时间窗口的日志"><span>1. 导出事故时间窗口的日志</span></a></h3><p>有时候日志非常大，例如有 10GB，grep 搜出来的内容依然过多。如果我们明确知道生产事故发生在 14:00 到 14:05 之间，该怎么办？</p><p>下载整个日志不现实，sed 可以帮我们把这段时间的日志单独切出来，保存成一个小文件慢慢分析。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 语法：sed -n &#39;/开始时间/,/结束时间/p&#39; 源文件 &gt; 目标文件</span></span>
<span class="line"><span class="token comment">#       sed -n &#39;/pattern1/,/pattern2/p&#39; filename</span></span>
<span class="line"><span class="token comment"># 注意：时间格式必须和日志里的格式完全一致</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 提取从 00:01:00 到 00:02:00 的日志（同一天）</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/^2026-01-22 00:01:/,/^2026-01-22 00:02:/p&#39;</span> uniweb-global-setting.log <span class="token operator">&gt;</span> error_segment.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 或者更精确的时间范围（包含毫秒）</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/^2026-01-22 00:01:00\.003/,/^2026-01-22 00:02:00\.000/p&#39;</span> uniweb-global-setting.log <span class="token operator">&gt;</span> error_segment.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 提取从 1月21日 到 1月22日的日志</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/^2026-01-21/,/^2026-01-22/p&#39;</span> uniweb-global-setting.log <span class="token operator">&gt;</span> multi_day_logs.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、-awk" tabindex="-1"><a class="header-anchor" href="#五、-awk"><span>五、 Awk</span></a></h2><p>awk 擅长处理列数据，对于格式规范的日志，如 Nginx 访问日志、Apache 日志，它可以直接在服务器上生成简报。</p><h3 id="_1-遭到攻击-查找恶意-ip" tabindex="-1"><a class="header-anchor" href="#_1-遭到攻击-查找恶意-ip"><span>1. 遭到攻击，查找恶意 IP</span></a></h3><p>服务突然报警 CPU 飙升，怀疑遭到 CC 攻击或爬虫抓取，我们需要分析 Nginx 日志，找出访问量最高的 IP。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 1. awk &#39;{print $1}&#39;：提取第一列（IP）</span></span>
<span class="line"><span class="token comment"># 2. sort：排序，把相同的 IP 排在一起</span></span>
<span class="line"><span class="token comment"># 3. uniq -c：去重并统计每个 IP 出现的次数</span></span>
<span class="line"><span class="token comment"># 4. sort -nr：按次数(n)倒序(r)排列</span></span>
<span class="line"><span class="token comment"># 5. head -n 10：取前 10 名</span></span>
<span class="line"></span>
<span class="line"><span class="token function">awk</span> <span class="token string">&#39;{print $1}&#39;</span> access.log <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">10</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@LV7000-CE791A logs<span class="token punctuation">]</span><span class="token comment"># awk &#39;{print $1}&#39; access.log | sort | uniq -c | sort -nr | head -n 10</span></span>
<span class="line">   <span class="token number">9315</span> <span class="token number">10.20</span>.3.2</span>
<span class="line">   <span class="token number">4880</span> <span class="token number">10.20</span>.13.135</span>
<span class="line">   <span class="token number">3680</span> <span class="token number">10.20</span>.13.168</span>
<span class="line">   <span class="token number">3534</span> <span class="token number">10.20</span>.13.97</span>
<span class="line">   <span class="token number">1290</span> <span class="token number">10.20</span>.13.122</span>
<span class="line">    <span class="token number">656</span> <span class="token number">127.0</span>.0.1</span>
<span class="line">    <span class="token number">398</span> <span class="token number">10.20</span>.13.174</span>
<span class="line">    <span class="token number">223</span> <span class="token number">10.20</span>.24.106</span>
<span class="line">     <span class="token number">12</span> <span class="token number">10.19</span>.31.178</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-找出响应最慢的接口" tabindex="-1"><a class="header-anchor" href="#_2-找出响应最慢的接口"><span>2. 找出响应最慢的接口</span></a></h3><p>Nginx 日志中通常记录了响应时间，假设在最后一列，我们想把响应时间超过 1 秒的请求找出来。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># $NF 代表最后一列,打印第12个字段和最后一个字段，用空格分隔</span></span>
<span class="line"><span class="token comment"># 打印所有响应时间大于 1 秒的 URL（假设 URL 在第 12 列）</span></span>
<span class="line"><span class="token function">awk</span> <span class="token string">&#39;$12 &gt; 1.000 {print $12, $NF}&#39;</span> access.log</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>root@LV7000-CE791A logs<span class="token punctuation">]</span><span class="token comment"># awk &#39;$12 &gt; 6000000 {print $12, $NF}&#39; access.log</span></span>
<span class="line"><span class="token number">6917288</span> <span class="token string">&quot;https://10.19.31.166:8443/assets/index-300c691a.css&quot;</span></span>
<span class="line">HTTP/1.1<span class="token string">&quot; &quot;</span>-<span class="token string">&quot;</span>
<span class="line">6917288 &quot;</span>https://10.19.31.166:8443/uni-app/assets/index-95ded47c.css<span class="token string">&quot;</span>
<span class="line">6917288 &quot;</span>https://10.19.31.166:8443/uni-app/assets/index-95ded47c.css&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、查看当前连接数" tabindex="-1"><a class="header-anchor" href="#六、查看当前连接数"><span>六、查看当前连接数</span></a></h2><p>文件描述符限制（File Descriptor Limit） 每个 TCP 连接都会消耗一个文件描述符。操作系统对每个进程能打开的文件描述符数量有上限。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 查看某个进程的连接数（假设服务器监听 8080 端口）</span></span>
<span class="line"><span class="token function">lsof</span> <span class="token parameter variable">-i</span> :8080 <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 或使用 netstat（较老系统）</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-an</span> <span class="token operator">|</span> <span class="token function">grep</span> :8080 <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、查看当前进程占用的内存" tabindex="-1"><a class="header-anchor" href="#七、查看当前进程占用的内存"><span>七、查看当前进程占用的内存</span></a></h2><p>%mem：物理内存使用百分比 rss：Resident Set Size，实际使用的物理内存（KB） vsz：Virtual Memory Size，虚拟内存大小（KB）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 通过进程名查找</span></span>
<span class="line"><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> your_process_name</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 通过 PID 查看</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>PID<span class="token operator">&gt;</span> <span class="token parameter variable">-o</span> pid,ppid,cmd,%mem,%cpu,rss,vsz</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 交互式查看</span></span>
<span class="line"><span class="token function">top</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 按内存排序</span></span>
<span class="line"><span class="token function">top</span> <span class="token parameter variable">-o</span> %MEM</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查看指定 PID</span></span>
<span class="line"><span class="token function">top</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>PID<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2026-01-27T01:54:58.000Z" data-allow-mismatch>2026/1/27 01:54</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: litong@leagsoft.com">litong</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CGuPWS34.js" defer></script>
  </body>
</html>
